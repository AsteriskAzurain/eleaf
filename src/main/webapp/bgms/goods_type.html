<section class="py-5">
	<div class="col">
		
		<form class="form-inline">
			<button type="button" class="btn btn-primary mb-2"  id="btn-add" style="margin-right: 20px">增加</button>
			<div class="input-group mb-2">
				<input type="text" placeholder="请输入搜索内容" aria-describedby="button-addon2" class="form-control" />
				<div class="input-group-append">
					<button id="button-addon2 btn-search" type="button" class="btn btn-primary">搜索</button>
				</div>
			</div>
		</form>

		<div class="row-lg-6 mb-4">
			<div class="card">
				<div class="card-header">
					<h6 class="text-uppercase mb-0">商品类别管理</h6>
				</div>
				<div class="card-body">
					<table class="table table-striped table-hover card-text">
						<thead>
							<tr>
								<th>#</th>
								<th>类别名</th>
								<th>是否启用</th>
								<th>操作</th>
							</tr>
						</thead>
						<tbody class="dataview" dataview="goods_type">
							<tr class="dv-unit" id="fff-eee-2122">
								<th scope="row" class="dv-elem-index">1</th>
								<td class="dv-elem-expose" dv-elem="">Mark</td>
								<td class="dv-elem-map" dv-elem="">Otto</td>
								<td>
									<div class="inline">
										<button type="button" class="btn btn-sm btn-secondary" id="btn-update">编辑</button>
										<button type="button" class="btn btn-sm btn-secondary" id="btn-delete">删除</button>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		
	</div>
</section>

<script type="text/javascript">
	$('button#btn-add').click(function() {
		changeTab('goods_type_add');
		history.pushState({tab: 'goods_type_add'}, null, view.getUrl('bgms', 'bgms') + '?tab=goods_type&action=add');
	});
	$('button#btn-search').click(function() {
		console.log('TODO search!');
	});
	$('button#btn-update').click(function() {
		let id = $(this).parents('tr.dv-unit').attr('id');
		changeTab('goods_type_update');
		history.pushState({tab: 'goods_type_update'}, null, view.getUrl('bgms', 'bgms') + `?tab=goods_type&action=update&id=${id}`);
	});
	$('button#btn-delete').click(function() {
		let id = $(this).parents('tr.dv-unit').attr('id');
		console.log('TODO delete! id: ' + id);
	});
</script>